---
title: 咪咕视讯
category: showcase
industry: 其他
company: 咪咕视讯
summary: 咪咕视讯搬迁，openEuler或成数字基建最优解。
banner: /category/showcase/case-detail-bg.jpg
img: /category/showcase/others.png
---



## 应用场景

咪咕视讯成立于2014年，是中国移动咪咕公司旗下唯一聚焦于视频运营的实体单位。

作为体育内容服务商，咪咕视讯旗下“咪咕视频”、“移动高清”等产品已经实现了全场景覆盖。一直以来，也因其出色音视频能力，深受用户认可。

咪咕视频现网服务器主要使用的是CentOS/RHEL操作系统，而该系统已于2021年12月31日停服，严重威胁到咪咕视频系统的连续性。为保障现网业务的稳定与安全，替换操作系统迫在眉睫。

与此同时，由于咪咕视频资源池使用多年，总体资源可分配余量已无法满足新项目需求。而且现有资源利用率较低，通过管理手段也难以扭转，咪咕视频迫切需要通过平台技术革新来全面提升资源整体利用率。

## 业务挑战

经过9年多的发展，咪咕已经成为视频内容领域和体育赛事内容领域的企业，也是国内首个聚齐足篮排“三大球”顶级赛事、国内唯一聚齐欧洲足球五大联赛的体育内容平台。

这意味着系统不光要承受高强度的直播和内容传输，还要应对重大赛事带来的突发数据冲击。以2022年卡塔尔世界杯为例，咪咕视频作为持权转播商，实现了仅11月用户规模同比增长就高达103.55%。在剧烈的数据波动下，保证平稳运行已经很有挑战，要同步实现系统迁移更是难上加难。

特别值得一提的是，临近年底，多个互联网头部平台出现崩溃，成熟系统的运行中尚且有如此意外，对于咪咕视频这种巨无霸量级的项目，搬家更是如履薄冰，稍有差错可能就会造成无法挽回的事故。

针对操作系统迁移，咪咕视讯团队从自主创新考虑，锁定了国内开源社区的操作系统openEuler。


## 解决方案

- 与openEuler社区团队充分交流后，咪咕视频采用了x2openEuler与原地升级技术的迁移解决方案。同时，咪咕视频结合特有的双机房、双活及容灾系统优势，形成了不停服敏捷部署方案。利用多系统多团队并发任务有序推进的项目管理方式，团队从技术、方案和项目管理多管齐下，实现了系统迁移和用户体验不降级的“双达成”。

- 该方案选择了云原生混合部署方案，以提升集群应用密度与资源利用率，从而实现降本增效。首批选择了针对在线业务视频门户与离线任务点播转码，在Ocean平台开展混合部署。系统还引入混合部署引擎rubik，该引擎可以减少资源争抢，做到资源隔离保证业务之间无影响，在保证业务正常运行的情况下，让资源得到充分复用。

- 同时在集群调度层面，咪咕视讯还开发了统一调度器CA（Cluster Autoscaler）来满足业务的混合部署，增强集群调度能力。该调度器根据业务负载情况、以及自研算法来完成混合部署，达到资源的复用。现网运行效果显示，预计可为企业节省服务器数百台、降低服务器采购成本数百万。

## 客户价值


- 通过迁移和新应用系统部署，其业务的性能部分提升超10%。

- 系统升级、降本增效与系统迁移同步完成，实现了“一箭三雕”。

- 面对操作系统迁移的巨大工程，咪咕视讯依旧延续了高画质、高音效、高安全、低时延的稳定用户体验，更是通过了亚运会直播的重大考验。

